---
title: Monolito vs Microsservi√ßos - Quando usar cada um
description: Minha opini√£o sobre a discuss√£o monolito vs microsservi√ßos e quando cada arquitetura faz sentido.
publishDate: "Aug 07 2023"
image: /blogg/monoVSmicro/microVSmonoWallpaper.jpg
time: 4 
draft: false
translationKey: monovsmicro
---

import InteractiveDiagram from '../../../components/mdx/InteractiveDiagram.astro';
import BeforeAfterCompare from '../../../components/mdx/BeforeAfterCompare.astro';
import FlowTimeline from '../../../components/mdx/FlowTimeline.astro';

Quando falamos sobre desenvolvimento de software, muitas d√∫vidas e discuss√µes surgem ‚Äî como qual linguagem de programa√ß√£o √© melhor, qual banco de dados usar, ou at√© como fazer o deploy da aplica√ß√£o. Isso √© normal.

O problema real √© quando as pessoas tomam partido e s√≥ veem uma perspectiva.

Isso acontece muito!

Eu estava no Twitter e vi uma grande thread de discuss√£o sobre **Qual √© melhor: monolito ou microsservi√ßos?**

Ent√£o, este artigo √© para compartilhar minha opini√£o sobre o tema.

## O In√≠cio

Antes desse tipo de discuss√£o existir, j√° havia uma forma de construir aplica√ß√µes, e essa forma se chama *Monolito*.

O Monolito foi concebido primeiro porque, na maioria das vezes, √© uma arquitetura mais simples (embora nem sempre seja o caso). Vamos entender o que exatamente √© um projeto *monolito*:

### Entendendo um monolito

<InteractiveDiagram 
  title="Arquitetura Monolito E-commerce"
  nodes={[
    { id: "frontend", label: "Frontend", icon: "üñ•Ô∏è" },
    { id: "backend", label: "Backend (API)", icon: "‚öôÔ∏è" },
    { id: "database", label: "Banco de Dados", icon: "üóÑÔ∏è" }
  ]}
/>

Este √© um exemplo de uma aplica√ß√£o de e-commerce. Para explicar melhor o que est√° acontecendo, temos este e-commerce dividido em tr√™s partes:
- **Frontend**: o que o usu√°rio final v√™ e interage
- **Backend**: onde toda a l√≥gica da aplica√ß√£o vive
- **Banco de Dados**: onde todos os dados e informa√ß√µes do nosso e-commerce s√£o armazenados

Ent√£o, este √© um sistema √∫nico com todos os m√≥dulos e funcionalidades dentro dele. Um projeto, uma base de c√≥digo, um banco de dados, uma linguagem de programa√ß√£o!

### Pontos Positivos

Essa singularidade nos traz muitas vantagens:

<BeforeAfterCompare
  before={{
    title: "Sem Monolito",
    description: "Desenvolvimento disperso sem estrutura unificada",
    items: [
      "M√∫ltiplas bases de c√≥digo para gerenciar",
      "Padr√µes diferentes em cada servi√ßo",
      "Orquestra√ß√£o de deploy complexa",
      "Fragmenta√ß√£o de tecnologia"
    ]
  }}
  after={{
    title: "Com Monolito",
    description: "Desenvolvimento unificado com estrutura consistente",
    items: [
      "Um reposit√≥rio, uma base de c√≥digo",
      "Padr√µes e l√≥gica consistentes",
      "Um pipeline de deploy",
      "Ciclo de desenvolvimento r√°pido"
    ]
  }}
/>

Monolito tem muitos pontos positivos.

---

Imagine que nosso e-commerce tem todas essas funcionalidades:

<InteractiveDiagram 
  title="Funcionalidades do E-commerce (Tudo em Um)"
  nodes={[
    { id: "auth", label: "Auth", icon: "üîê" },
    { id: "products", label: "Produtos", icon: "üì¶" },
    { id: "cart", label: "Carrinho", icon: "üõí" },
    { id: "payments", label: "Pagamentos", icon: "üí≥" },
    { id: "notifications", label: "Notifica√ß√µes", icon: "üîî" },
    { id: "shipping", label: "Envio", icon: "üöö" }
  ]}
/>

√â uma √≥tima aplica√ß√£o, certo? Temos muitas funcionalidades acopladas juntas, e isso nos leva ao primeiro problema dos monolitos...

### Pontos Negativos

Como eu disse, todas as funcionalidades s√£o altamente acopladas, o que significa que se uma funcionalidade quebrar, todas as outras quebram tamb√©m.

<FlowTimeline
  title="Quando Notifica√ß√µes Quebram..."
  steps={[
    { 
      title: "Servi√ßo de Notifica√ß√£o Crasha", 
      description: "Uma exce√ß√£o n√£o tratada ocorre no m√≥dulo de notifica√ß√µes.",
      icon: "üí•"
    },
    { 
      title: "Backend Cai", 
      description: "Como tudo est√° no mesmo processo, todo o backend crasha.",
      icon: "‚ö†Ô∏è"
    },
    { 
      title: "Todos os Servi√ßos Indispon√≠veis", 
      description: "Auth, Produtos, Carrinho, Pagamentos, Envio ‚Äî tudo para de funcionar.",
      icon: "üö´"
    },
    { 
      title: "Usu√°rios N√£o Conseguem Acessar Nada", 
      description: "Queda completa do servi√ßo. Usu√°rios veem p√°ginas de erro em todo lugar.",
      icon: "üò±"
    }
  ]}
/>

No nosso exemplo, a funcionalidade de notifica√ß√£o teve um problema, e por causa disso, toda a aplica√ß√£o est√° fora do ar.

Infelizmente, este n√£o √© o √∫nico problema com aplica√ß√µes monol√≠ticas...

<BeforeAfterCompare
  before={{
    title: "Desafios do Monolito",
    description: "Problemas que surgem conforme a aplica√ß√£o cresce",
    items: [
      "Escalar requer duplicar toda a aplica√ß√£o",
      "Base de c√≥digo cresce exponencialmente",
      "Ponto √∫nico de falha",
      "Deploy = tudo ou nada"
    ]
  }}
  after={{
    title: "O Que Voc√™ Precisa",
    description: "Caracter√≠sticas ideais para sistemas de grande escala",
    items: [
      "Escalar apenas o que precisa",
      "Bases de c√≥digo menores e gerenci√°veis",
      "Falhas isoladas",
      "Deploys independentes"
    ]
  }}
/>

## O Presente

Olhando para esses problemas, arquitetos de software queriam encontrar uma forma melhor de construir software, ent√£o eles criaram uma solu√ß√£o.

O termo "microsservi√ßos" foi cunhado em maio de 2011 durante uma confer√™ncia de arquitetos de software para representar um estilo de arquitetura de sistemas. A proposta da arquitetura orientada a microsservi√ßos √© desenvolver sistemas que s√£o mais flex√≠veis, escal√°veis e mais simples de manter do que arquiteturas monol√≠ticas.

Mas a primeira pergunta √©: como exatamente funciona?

### Entendendo microsservi√ßos

Em uma arquitetura de microsservi√ßos, m√≥dulos e fun√ß√µes s√£o separados. √â como se cada servi√ßo fosse uma aplica√ß√£o independente. Veja o exemplo abaixo:

<div class="my-10 p-6 rounded-xl bg-zinc-900/60 border border-zinc-800">
  <p class="text-center text-xs text-zinc-500 mb-6 uppercase tracking-widest font-medium">Arquitetura de Microsservi√ßos</p>
  
  <div class="grid grid-cols-2 md:grid-cols-3 gap-4">
    <div class="microservice-card p-4 rounded-lg bg-gradient-to-br from-blue-900/40 to-blue-800/20 border border-blue-700/30 hover:border-blue-500/50 transition-all">
      <div class="text-2xl mb-2">üîê</div>
      <div class="text-sm font-medium text-zinc-200">Servi√ßo Auth</div>
      <div class="text-xs text-zinc-500 mt-1">Node.js + Redis</div>
      <div class="mt-3 flex items-center gap-1.5">
        <div class="w-2 h-2 rounded-full bg-blue-500/60"></div>
        <span class="text-[10px] text-zinc-600">Banco Pr√≥prio</span>
      </div>
    </div>
    
    <div class="microservice-card p-4 rounded-lg bg-gradient-to-br from-amber-900/40 to-amber-800/20 border border-amber-700/30 hover:border-amber-500/50 transition-all">
      <div class="text-2xl mb-2">üì¶</div>
      <div class="text-sm font-medium text-zinc-200">Produtos</div>
      <div class="text-xs text-zinc-500 mt-1">Go + PostgreSQL</div>
      <div class="mt-3 flex items-center gap-1.5">
        <div class="w-2 h-2 rounded-full bg-amber-500/60"></div>
        <span class="text-[10px] text-zinc-600">Banco Pr√≥prio</span>
      </div>
    </div>
    
    <div class="microservice-card p-4 rounded-lg bg-gradient-to-br from-emerald-900/40 to-emerald-800/20 border border-emerald-700/30 hover:border-emerald-500/50 transition-all">
      <div class="text-2xl mb-2">üõí</div>
      <div class="text-sm font-medium text-zinc-200">Carrinho</div>
      <div class="text-xs text-zinc-500 mt-1">Python + MongoDB</div>
      <div class="mt-3 flex items-center gap-1.5">
        <div class="w-2 h-2 rounded-full bg-emerald-500/60"></div>
        <span class="text-[10px] text-zinc-600">Banco Pr√≥prio</span>
      </div>
    </div>
    
    <div class="microservice-card p-4 rounded-lg bg-gradient-to-br from-violet-900/40 to-violet-800/20 border border-violet-700/30 hover:border-violet-500/50 transition-all">
      <div class="text-2xl mb-2">üí≥</div>
      <div class="text-sm font-medium text-zinc-200">Pagamentos</div>
      <div class="text-xs text-zinc-500 mt-1">Java + MySQL</div>
      <div class="mt-3 flex items-center gap-1.5">
        <div class="w-2 h-2 rounded-full bg-violet-500/60"></div>
        <span class="text-[10px] text-zinc-600">Banco Pr√≥prio</span>
      </div>
    </div>
    
    <div class="microservice-card p-4 rounded-lg bg-gradient-to-br from-rose-900/40 to-rose-800/20 border border-rose-700/30 hover:border-rose-500/50 transition-all">
      <div class="text-2xl mb-2">üîî</div>
      <div class="text-sm font-medium text-zinc-200">Notifica√ß√µes</div>
      <div class="text-xs text-zinc-500 mt-1">Rust + Kafka</div>
      <div class="mt-3 flex items-center gap-1.5">
        <div class="w-2 h-2 rounded-full bg-rose-500/60"></div>
        <span class="text-[10px] text-zinc-600">Fila Pr√≥pria</span>
      </div>
    </div>
    
    <div class="microservice-card p-4 rounded-lg bg-gradient-to-br from-cyan-900/40 to-cyan-800/20 border border-cyan-700/30 hover:border-cyan-500/50 transition-all">
      <div class="text-2xl mb-2">üöö</div>
      <div class="text-sm font-medium text-zinc-200">Envio</div>
      <div class="text-xs text-zinc-500 mt-1">C# + SQL Server</div>
      <div class="mt-3 flex items-center gap-1.5">
        <div class="w-2 h-2 rounded-full bg-cyan-500/60"></div>
        <span class="text-[10px] text-zinc-600">Banco Pr√≥prio</span>
      </div>
    </div>
  </div>
  
  <div class="mt-6 pt-4 border-t border-zinc-800 flex flex-wrap justify-center gap-4 text-xs text-zinc-500">
    <span class="flex items-center gap-1.5">
      <span class="text-base">üê≥</span> Cada um roda em seu pr√≥prio container
    </span>
    <span class="flex items-center gap-1.5">
      <span class="text-base">üîÄ</span> Comunicam via APIs/Eventos
    </span>
    <span class="flex items-center gap-1.5">
      <span class="text-base">üìà</span> Escalam independentemente
    </span>
  </div>
</div>

Note como cada servi√ßo √© **completamente independente**:
- **Tecnologias diferentes**: Cada time escolhe o que funciona melhor (Node, Go, Python, Java, Rust, C#)
- **Banco pr√≥prio**: Sem estado compartilhado entre servi√ßos
- **Deploy isolado**: Deploy de um sem tocar nos outros

#### Observa√ß√µes

Microsservi√ßos s√£o ocasionalmente confundidos com Pattern-Oriented Software Architecture (POSA); entretanto, √© essencial reconhecer que s√£o conceitos distintos.

A empresa *RedHat* diz isso sobre o assunto:

> A principal caracter√≠stica que os diferencia √© o escopo: SOA √© uma abordagem arquitetural adotada pela empresa como um todo, enquanto microsservi√ßos s√£o uma estrat√©gia de implementa√ß√£o do time de desenvolvimento para cada aplica√ß√£o.

Com isso em mente, vamos continuar.

### Pontos Positivos

Uma grande vantagem da arquitetura de microsservi√ßos √© que se um microsservi√ßo parar, a aplica√ß√£o inteira n√£o quebra!

<FlowTimeline
  title="Quando Notifica√ß√µes Quebram em Microsservi√ßos..."
  steps={[
    { 
      title: "Servi√ßo de Notifica√ß√£o Crasha", 
      description: "O microsservi√ßo de notifica√ß√µes encontra um erro.",
      icon: "üí•"
    },
    { 
      title: "Outros Servi√ßos Continuam Rodando", 
      description: "Auth, Produtos, Carrinho, Pagamentos ‚Äî todos continuam funcionando normalmente.",
      icon: "‚úÖ"
    },
    { 
      title: "Degrada√ß√£o Graciosa", 
      description: "Usu√°rios ainda podem comprar, pagar e usar o app. Apenas notifica√ß√µes est√£o atrasadas.",
      icon: "üõ°Ô∏è"
    },
    { 
      title: "Recupera√ß√£o F√°cil", 
      description: "Time de Ops reinicia apenas o servi√ßo de notifica√ß√£o. Sem redeploy completo.",
      icon: "üîÑ"
    }
  ]}
/>

Aqui podemos ver que se um dos microsservi√ßos quebrar, os outros continuam funcionando. Isso √© √≥timo porque nos traz mais consist√™ncia e confiabilidade.

Microsservi√ßos trazem muitos benef√≠cios:

<BeforeAfterCompare
  before={{
    title: "Limita√ß√µes do Monolito",
    description: "A que voc√™ est√° limitado com arquitetura monol√≠tica",
    items: [
      "Uma base de c√≥digo massiva para tudo",
      "C√≥digo complexo dif√≠cil de entender",
      "Deploy de tudo de uma vez",
      "Preso a uma linguagem de programa√ß√£o"
    ]
  }}
  after={{
    title: "Benef√≠cios dos Microsservi√ßos",
    description: "O que a arquitetura de microsservi√ßos possibilita",
    items: [
      "Bases de c√≥digo menores e focadas",
      "Cada servi√ßo √© f√°cil de entender",
      "Deploy de servi√ßos independentemente",
      "Usar a melhor linguagem para cada servi√ßo"
    ]
  }}
/>

Como voc√™ pode ver, microsservi√ßos t√™m muitas vantagens e s√£o usados at√© certo ponto por quase todas as grandes empresas de tecnologia hoje em dia, j√° que fornecem muitas capacidades para organiza√ß√µes escalarem seus sistemas adequadamente.

### Pontos Negativos

Infelizmente, microsservi√ßos n√£o s√£o perfeitos. Essa arquitetura de software tem problemas, ent√£o vamos falar sobre alguns deles.

<FlowTimeline
  title="Complexidade dos Microsservi√ßos"
  steps={[
    { 
      title: "Desafios de Sistema Distribu√≠do", 
      description: "Chamadas de rede podem falhar. Lat√™ncia se torna uma preocupa√ß√£o. Debug entre servi√ßos √© dif√≠cil.",
      icon: "üåê"
    },
    { 
      title: "Overhead de Deploy", 
      description: "Cada servi√ßo precisa de seu pr√≥prio pipeline CI/CD, monitoramento e infraestrutura.",
      icon: "üîß"
    },
    { 
      title: "Consist√™ncia de Dados", 
      description: "Manter dados sincronizados entre servi√ßos requer design cuidadoso (sagas, event sourcing).",
      icon: "üîÑ"
    },
    { 
      title: "Custos Aumentados", 
      description: "Mais servi√ßos = mais servidores, mais monitoramento, mais complexidade operacional.",
      icon: "üí∞"
    }
  ]}
/>

Microsservi√ßos geralmente s√£o complexos. Eles precisam ser muito bem planejados e executados porque, se n√£o, o software pode se tornar inseguro, vulner√°vel e dif√≠cil de entender como um todo.

A verdade √© que microsservi√ßos s√£o excelentes mas tamb√©m podem ser um tiro no p√©.

## O Futuro?

Ent√£o, para finalmente responder a pergunta esperada... **Qual √© melhor?**

Na minha opini√£o, depende da situa√ß√£o :)

<BeforeAfterCompare
  before={{
    title: "Use Monolito Quando",
    description: "Cen√°rios onde monolito faz mais sentido",
    items: [
      "Time pequeno (< 10 desenvolvedores)",
      "L√≥gica de neg√≥cio simples",
      "MVP ou startup em est√°gio inicial",
      "Or√ßamento limitado para infraestrutura"
    ]
  }}
  after={{
    title: "Use Microsservi√ßos Quando",
    description: "Cen√°rios onde microsservi√ßos brilham",
    items: [
      "Time grande com m√∫ltiplos squads",
      "Regras de neg√≥cio complexas e em evolu√ß√£o",
      "Requisitos de alta escala",
      "Necessidade de deploys independentes"
    ]
  }}
/>

N√≥s, como desenvolvedores, precisamos ser inteligentes ao escolher uma arquitetura sobre outra. Por exemplo, n√£o √© inteligente usar arquitetura de microsservi√ßos para um site de uma pequena loja local porque o desenvolvimento ser√° mais lento, o site provavelmente n√£o ter√° regras de neg√≥cio complexas, e ser√° mais caro.

## Conclus√£o

√â importante sempre ter a mente aberta. Microsservi√ßos se tornaram mainstream no desenvolvimento de software, mas isso n√£o significa que devemos usar apenas eles. Existem outros tipos de arquitetura de software como Component-Based Architecture, Service-Oriented Architecture (SOA), Layered Architecture, e outros.

Eu acho que um bom desenvolvedor deve entender quando usar um ou outro.

---

Entre em contato e me diga o que voc√™ acha deste artigo!

Espero que tenha gostado.

