---
import Layout from "../layouts/MainLayout.astro";
import { getCollection } from "astro:content";

const posts = await getCollection("blog");
const recentPosts = posts
  .filter((post) => post.data.draft !== true)
  .slice(0, 3);
---

<Layout title="Vinicius Ventura">
  <img
    src="/go-logo.svg"
    class="h-0 golas absolute cursor-pointer"
    alt=""
  />
  <main class="mt-10 lg:mt-20">
    <!-- Hero Section -->
    <section class="flex flex-col items-center text-center mb-20">
      <div class="hero-img mb-8"></div>
      
      <h1 class="text-4xl lg:text-5xl font-bold text-blue-200 mb-2">
        Vinicius Ventura
      </h1>
      <p class="text-lg text-slate-400 mb-6">Software Engineer</p>
      
      <div class="flex gap-4">
        <a 
          href="https://github.com/viniciusventura29" 
          target="_blank"
          class="social-link"
          aria-label="GitHub"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <path d="M9 19c-4.3 1.4 -4.3 -2.5 -6 -3m12 5v-3.5c0 -1 .1 -1.4 -.5 -2c2.8 -.3 5.5 -1.4 5.5 -6a4.6 4.6 0 0 0 -1.3 -3.2a4.2 4.2 0 0 0 -.1 -3.2s-1.1 -.3 -3.5 1.3a12.3 12.3 0 0 0 -6.2 0c-2.4 -1.6 -3.5 -1.3 -3.5 -1.3a4.2 4.2 0 0 0 -.1 3.2a4.6 4.6 0 0 0 -1.3 3.2c0 4.6 2.7 5.7 5.5 6c-.6 .6 -.6 1.2 -.5 2v3.5"/>
          </svg>
        </a>
        <a 
          href="https://www.linkedin.com/in/vini-ventura29/" 
          target="_blank"
          class="social-link"
          aria-label="LinkedIn"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <rect x="4" y="4" width="16" height="16" rx="2"/>
            <line x1="8" y1="11" x2="8" y2="16"/>
            <line x1="8" y1="8" x2="8" y2="8.01"/>
            <line x1="12" y1="16" x2="12" y2="11"/>
            <path d="M16 16v-3a2 2 0 0 0 -4 0"/>
          </svg>
        </a>
        <a 
          href="mailto:ViniciusVentura29@gmail.com"
          class="social-link"
          aria-label="Email"
        >
          <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round">
            <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
            <path d="M3 5m0 2a2 2 0 0 1 2 -2h14a2 2 0 0 1 2 2v10a2 2 0 0 1 -2 2h-14a2 2 0 0 1 -2 -2z"/>
            <path d="M3 7l9 6l9 -6"/>
          </svg>
        </a>
      </div>
    </section>

    <!-- About Section -->
    <section class="mb-20">
      <h2 class="section-title">About</h2>
      <div class="space-y-4 text-slate-300">
        <p>
          I'm focused on making <strong class="text-blue-300">Brazil a protagonist in technology</strong>. 
          My goal is to build a company that gains relevance and makes a real difference 
          in people's lives — helping to grow the tech ecosystem in my country.
        </p>
        <p>
          I believe technology has the power to <strong class="text-blue-300">bring people together</strong> 
          and shape the future. That's what drives me every day: connecting people, 
          solving real problems, and building something meaningful.
        </p>

        <p>
          This is what I am actually doing at 
          <a class="text-blue-300 font-bold hover:underline" href="https://www.decocms.com/" target="_blank">Deco</a>, 
          with incredible people by my side and a great product.
        </p>
      </div>
    </section>

    <!-- Blog Section -->
    <section class="mb-20">
      <div class="flex items-center justify-between mb-6">
        <h2 class="section-title mb-0">Blog</h2>
        <a href="/blog" class="text-sm text-blue-400 hover:text-blue-300 transition-colors">
          View all →
        </a>
      </div>
      
      <div class="space-y-4">
        {recentPosts.map((post) => (
          <a href={`/blog/${post.slug}`} class="blog-card group">
            <div class="flex-1">
              <h3 class="text-lg font-medium text-blue-200 group-hover:text-blue-100 transition-colors">
                {post.data.title}
              </h3>
              <p class="text-sm text-slate-400 mt-1 line-clamp-2">
                {post.data.description}
              </p>
            </div>
            <time class="text-xs text-slate-500 shrink-0">
              {post.data.publishDate}
            </time>
          </a>
        ))}
      </div>
    </section>
  </main>
</Layout>

<style>
  .hero-img {
    width: 200px;
    height: 200px;
    background-image: url("/foto.jpg");
    background-size: cover;
    background-position: center;
    animation:
      blobMorph 12s ease-in-out infinite,
      glowPulse 3s ease-in-out infinite alternate;
  }

  @keyframes blobMorph {
    0% {
      border-radius: 65% 35% 39% 61% / 57% 38% 62% 43%;
    }
    50% {
      border-radius: 27% 73% 64% 36% / 34% 53% 47% 66%;
    }
    100% {
      border-radius: 65% 35% 39% 61% / 57% 38% 62% 43%;
    }
  }

  @keyframes glowPulse {
    from {
      box-shadow:
        0 0 20px rgba(59, 130, 246, 0.2),
        0 -5px 0 #042c43,
        0 5px 0 #02507a;
    }
    to {
      box-shadow:
        0 0 40px rgba(59, 130, 246, 0.4),
        0 5px 0 #02507a,
        0 -5px 0 #042c43;
    }
  }

  @media (max-width: 768px) {
    .hero-img {
      width: 160px;
      height: 160px;
    }
  }

  .social-link {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 44px;
    height: 44px;
    border-radius: 50%;
    background: rgba(255, 255, 255, 0.05);
    color: #94a3b8;
    transition: all 0.2s ease;
  }

  .social-link:hover {
    background: rgba(59, 130, 246, 0.15);
    color: #60a5fa;
    transform: translateY(-2px);
  }

  .section-title {
    font-size: 1.5rem;
    font-weight: 600;
    color: #bfdbfe;
    margin-bottom: 1rem;
    padding-bottom: 0.5rem;
    border-bottom: 1px solid rgba(255, 255, 255, 0.1);
  }

  .blog-card {
    display: flex;
    align-items: flex-start;
    justify-content: space-between;
    gap: 1rem;
    padding: 1rem;
    background: rgba(255, 255, 255, 0.02);
    border: 1px solid rgba(255, 255, 255, 0.05);
    border-radius: 0.75rem;
    transition: all 0.2s ease;
  }

  .blog-card:hover {
    background: rgba(255, 255, 255, 0.05);
    border-color: rgba(59, 130, 246, 0.2);
  }

  :global(html) {
    scroll-behavior: smooth;
  }

  @media (prefers-reduced-motion: reduce) {
    :global(html) {
      scroll-behavior: auto;
    }
  }
</style>

<script is:inline>
var golasImg = document.querySelector(".golas");

function moveGolas() {
  if (golasImg) {
    let top = Math.floor(Math.random() * (window.innerHeight - 80) + 40);
    let left = Math.floor(Math.random() * (window.innerWidth - 80) + 40);
    golasImg.style.top = `${top}px`;
    golasImg.style.left = `${left}px`;
  }
}

function showGolas() {
  if (golasImg) {
    golasImg.style.height = "32px";
    moveGolas();
  }
}

// Aparece depois de 180 segundos (3 minutos)
setTimeout(showGolas, 180000);

document.addEventListener("click", moveGolas);
</script>
